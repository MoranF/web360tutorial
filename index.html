<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Find the monsters</title>
    <link rel="stylesheet" href="https://cdn.pannellum.org/2.3/pannellum.css"/>
    <script type="text/javascript" src="https://cdn.pannellum.org/2.3/pannellum.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <style>
    #panorama {
        width: 1px;
        height: 1px;
    }
    </style>
    <link rel="stylesheet" href="style.css"/>
</head>
<body>
<div class="full-screen-wrapper">
    <div id="startGameMessage">
        <p>
            Find all the monsters in this 360 view. 
        </p>
        <p>
            When you find a monster, click on it. The monster will disappear and another monster will show up on a different place.
        </p>
        <p class="bold">
            Find the monsters!
        </p>
    </div>
    <button id="fullScreenButton" onclick="startGame()" class="full-screen-button">Start Game</button>
    <div id="endGameMessage">
        Great! You found all the monsters!
    </div>
</div>
<div id="panorama"></div>
<script>

    var fullScreen = function() {
        viewer.toggleFullscreen();
    };

    var clickHandler = function() {
        $('#endGameMessage').css("display", "block");
        $('#startGameMessage').css("display", "none");
        $('#fullScreenButton').css("display", "none");
        fullScreen();
    }

    var startGame = function() {
        fullScreen();
        $('#fullScreenButton').text('Continue game');
    }

    var viewer = pannellum.viewer('panorama', {   
        "default": {
            "firstScene": "monster1",
            "mouseZoom": false,
            "autoLoad": true
        },

        "scenes": {
            "monster1": {
                "type": "equirectangular",
                "panorama": "backgrounds/monster_0000_1.jpg",
                "hotSpots": [
                    {
                        "pitch": -29,
                        "yaw": -24,
                        "cssClass": "monster1",
                        "sceneId": "monster2"
                    }
                ]
            },

            "monster2": {
                "pitch": -31,
                "yaw": -23,
                "type": "equirectangular",
                "panorama": "backgrounds/monster_0001_2.jpg",
                "hotSpots": [
                    {
                        "pitch": -33,
                        "yaw": 85,
                        "cssClass": "monster2",
                        "sceneId": "monster3"
                    }
                ]
            },

            "monster3": {
                "pitch": -33,
                "yaw": 85,
                "type": "equirectangular",
                "panorama": "backgrounds/monster_0002_3.jpg",
                "hotSpots": [
                    {
                        "pitch": 15.5,
                        "yaw": 5.5,
                        "cssClass": "monster3",
                        "sceneId": "monster4"
                    }
                ]
            },

            "monster4": {
                "pitch": 15.5,
                "yaw": 5.5,
                "type": "equirectangular",
                "panorama": "backgrounds/monster_0003_4.jpg",
                "hotSpots": [
                    {
                        "pitch": -15.5,
                        "yaw": 123.5,
                        "cssClass": "monster4",
                        "sceneId": "monster5"
                    }
                ]
            },

            "monster5": {
                "pitch": -15.5,
                "yaw": 123.5,
                "type": "equirectangular",
                "panorama": "backgrounds/monster_0004_5.jpg",
                "hotSpots": [
                    {
                        "pitch": 17.5,
                        "yaw": -115,
                        "cssClass": "monster5",
                        "sceneId": "monster6"
                    }
                ]
            },

            "monster6": {
                "pitch": 17.5,
                "yaw": -115,
                "type": "equirectangular",
                "panorama": "backgrounds/monster_0005_6.jpg",
                "hotSpots": [
                    {
                        "pitch": 3,
                        "yaw": 137,
                        "cssClass": "monster6",
                        "sceneId": "monster7"
                    }
                ]
            },

            "monster7": {
                "pitch": 3,
                "yaw": 137,
                "type": "equirectangular",
                "panorama": "backgrounds/monster_0006_7.jpg",
                "hotSpots": [
                    {
                        "pitch": 74,
                        "yaw": 159,
                        "cssClass": "monster7",
                        "sceneId": "monster8"
                    }
                ]
            },

            "monster8": {
                "pitch": 74,
                "yaw": 159,
                "type": "equirectangular",
                "panorama": "backgrounds/monster_0007_8.jpg",
                "hotSpots": [
                    {
                        "pitch": -28,
                        "yaw": 41,
                        "cssClass": "monster8",
                        "sceneId": "monster9"
                    }
                ]
            },

            "monster9": {
                "pitch": -28,
                "yaw": 41,
                "type": "equirectangular",
                "panorama": "backgrounds/monster_0008_9.jpg",
                "hotSpots": [
                    {
                        "pitch": 16,
                        "yaw": -39,
                        "cssClass": "monster9",
                        "sceneId": "monster10"
                    }
                ]
            },

            "monster10": {
                "pitch": 16,
                "yaw": -39,
                "type": "equirectangular",
                "panorama": "backgrounds/monster_0008_10.jpg",
                "hotSpots": [
                    {
                        "pitch": -32.5,
                        "yaw": -157,
                        "cssClass": "monster10",
                        "clickHandlerFunc": clickHandler                    
                    }
                ]
            }
        }
    });

</script>

</body>
</html>